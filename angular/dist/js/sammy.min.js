var app=angular.module("Sammy-gui",["ui.bootstrap","ui.router","ngCookies","chart.js"]).filter("secondsToDateTime",[function(){return function(e){return new Date(1970,0,1).setSeconds(e)}}]).filter("encodeURIComponent",function(){return window.encodeURIComponent}).filter("underscoreToSpace",function(){return function(e){return e.replace(/_/g," ")}});
"use strict";app.config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("index",{url:"/",templateUrl:"templates/dashboard.html"}).state("cars",{url:"/cars",templateUrl:"templates/car_overview.html"}).state("cardetails",{url:"/cars/:id",templateUrl:"templates/car_details.html"}).state("caredit",{url:"/cars/details/edit/:id",templateUrl:"templates/car_edit.html"}).state("approval",{url:"/approval",templateUrl:"templates/approval.html"}).state("addFeature",{url:"/addfeature/:id",templateUrl:"templates/car_edit_feature.html"}).state("rdwPortal",{url:"/rdwportal",templateUrl:"templates/rdw_portal.html"})}]);
function AlertsCtrl(l,t){l.alerts=t.alerts,l.closeAlert=function(l){t.closeAlert(l)}}app.controller("AlertsCtrl",["$scope","Alert",AlertsCtrl]);
function ApprovalsCtrl(e,n,t,a,r,o){e.username=t.username,e.maintenance,e.features,n.get(r.url+"/maintenance/notapproved").success(function(n,t,a,r){e.maintenance=n}).error(function(e,n,t,a){o.addAlert("danger","fa-exclamation-triangle","Auto data kan niet worden opgehaald.")}),n.get(r.url+"/maintenance/notapprovedfeatures").success(function(n,t,a,r){e.features=n}).error(function(e,n,t,a){o.addAlert("danger","fa-exclamation-triangle","Auto onderdelen kunnen niet worden opgehaald.")}),e.approve=function(t){n({url:r.url+"/maintenance/approve",method:"POST",data:{id:t}}).then(function(n){for(o.addAlert("success","fa-check","Onderhoud met onderhoudsid "+t+" goedgekeurd!"),i=0;i<e.maintenance.length;i++)e.maintenance[i].id==t&&e.maintenance.shift()},function(e){o.addAlert("danger","fa-exclamation-triangle","Het goedkeuren is niet gelukt. Probeer het later opnieuw.")})},e.approveFeature=function(t){n({url:r.url+"/maintenance/approveFeature",method:"POST",data:{id:t}}).then(function(n){for(o.addAlert("success","fa-check","Kenmerk met kenmerksid "+t+" goedgekeurd!"),i=0;i<e.features.length;i++)e.features[i].id==t&&e.features.shift()},function(e){o.addAlert("danger","fa-exclamation-triangle","Het goedkeuren is niet gelukt. Probeer het later opnieuw")})}}app.controller("ApprovalsCtrl",["$scope","$http","$rootScope","$stateParams","Config","Alert",ApprovalsCtrl]);
function CarsCtrl(r,a,e,t,n){r.searchText={search:""},r.username=e.username,a.get(t.url+"/cars").success(function(a,e,t,n){r.cars=a}).error(function(r,a,e,t){n.addAlert("danger","fa-exclamation-triangle","Auto data kan niet worden opgehaald.")})}app.controller("CarsCtrl",["$scope","$http","$rootScope","Config","Alert",CarsCtrl]);
function CarDetailsCtlr(a,e,n,r,t,c,o){a.username=r.username,a.car,a.carParts,a.carMaintenance,n.get(c.url+"/cars/"+e.id).success(function(e,n,r,t){a.car=e}).error(function(a,e,n,r){o.addAlert("danger","fa-exclamation-triangle","Auto data kan niet worden opgehaald.")}),n.get(c.url+"/cars/parts/"+e.id).success(function(e,n,r,t){a.carParts=e}).error(function(a,e,n,r){o.addAlert("danger","fa-exclamation-triangle","Auto onderdelen kunnen niet worden opgehaald.")}),n.get(c.url+"/cars/maintenance/"+e.id).success(function(e,n,r,t){a.carMaintenance=e}).error(function(a,e,n,r){o.addAlert("danger","fa-exclamation-triangle","Auto onderdelen kunnen niet worden opgehaald.")})}app.controller("CarDetailsCtlr",["$scope","$stateParams","$http","$rootScope","$interval","Config","Alert",CarDetailsCtlr]);
function CarEditCtrl(e,t,a,r,n,o,d){console.log(t.id),a.get(n.url+"/cars/"+t.id).success(function(t,a,r,n){e.car=t}).error(function(e,t,a,r){o.addAlert("danger","fa-exclamation-triangle","Auto data kan niet worden opgehaald.")}),e.addData=function(e){a({url:n.url+"/maintenance/add",method:"POST",data:{description:e,Car_id:t.id}}).then(function(e){d.location.href="#/cars/",o.addAlert("success","fa-check","Onderhoud is toegevoegd voor controle.")},function(e){o.addAlert("danger","fa-exclamation-triangle","Verwijderen is niet gelukt. Probeer het later opnieuw.")})}}app.controller("CarEditCtrl",["$scope","$stateParams","$http","$interval","Config","Alert","$window",CarEditCtrl]);
function CarEditFeature(e,t,a,r,n,i,o){e.addData=function(e){t({url:n.url+"/maintenance/addFeature",method:"POST",data:{description:e,Car_id:a.id}}).then(function(e){o.location.href="#/cars/",i.addAlert("success","fa-check","Kenmerk toegevoegd voor controle.")},function(e){i.addAlert("danger","fa-exclamation-triangle","Het verwijderen is niet gelukt. Probeer het later opnieuw.")})}}app.controller("CarEditFeature",["$scope","$http","$stateParams","$interval","Config","Alert","$window",CarEditFeature]);
function ChartsCtrl(i,e,s,a,r){i.labels=["Januari","Februari","Maart","April","Mei","Juni","Juli"],i.series=["Ingediende onderdelen","Opvallende Gebruikersgegevens"],i.data=[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],i.onClick=function(i,e){console.log(i,e)},i.datasetOverride=[{yAxisID:"y-axis-1"},{yAxisID:"y-axis-2"}],i.options={scales:{yAxes:[{id:"y-axis-1",type:"linear",display:!0,position:"left"},{id:"y-axis-2",type:"linear",display:!0,position:"right"}]}},i.labels2=["Januari","Februari","Maart","April","Mei","Juni","Juli"],i.series2=["Politieverzoeken","Bedrijfsverzoeken"],i.data2=[[23,34,22,14,52,32,1],[13,66,32,35,12,31,10]],i.onClick2=function(i,e){console.log(i,e)},i.datasetOverride2=[{yAxisID:"y-axis-1"},{yAxisID:"y-axis-2"}],i.options2={scales:{yAxes:[{id:"y-axis-1",type:"linear",display:!0,position:"left"},{id:"y-axis-2",type:"linear",display:!0,position:"right"}]}}}app.controller("ChartsCtrl",["$scope","$http","$rootScope","Config","Alert",ChartsCtrl]);
function DashboardCtrl(r,e,o,a,n){r.username={username:""},r.login=function(){o.username=r.username.username}}app.controller("DashboardCtrl",["$scope","$http","$rootScope","Config","Alert",DashboardCtrl]);
function HeaderCtrl(e,a,r,t,n){e.update=function(){var a=r.url();switch(a){case"/cars":e.currentPage="Mijn voertuigen";break;case"/cars/details":e.currentPage="Mijn voertuig details";break;case"/cars/details/edit":e.currentPage="Mijn voertuig aanpassen";break;case"/approval":e.currentPage="Aanpassingen goedkeuren";break;case"/addfeature":e.currentPage="Auto kenmerk toevoegen";break;default:e.currentPage="Inloggen"}e.crumbs=[],e.crumbs=a.split("/")},e.update(),a.$on("$stateChangeStart",function(a,r,t,n,c){e.update()})}app.controller("HeaderCtrl",["$scope","$rootScope","$location","Config","$http",HeaderCtrl]);
function MasterCtrl(t,e,o){var g=992;t.getName=function(){t.username=o.username},o.$on("$stateChangeStart",function(e,o,g,n,r){t.getName()}),t.getWidth=function(){return window.innerWidth},t.$watch(t.getWidth,function(o,n){o>=g?angular.isDefined(e.get("toggle"))?t.toggle=!!e.get("toggle"):t.toggle=!0:t.toggle=!1}),t.toggleSidebar=function(){t.toggle=!t.toggle,e.put("toggle",t.toggle)},window.onresize=function(){t.$apply()}}app.controller("MasterCtrl",["$scope","$cookieStore","$rootScope",MasterCtrl]);
function rdLoading(){var d={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return d}angular.module("Sammy-gui").directive("rdLoading",rdLoading);
function rdWidgetBody(){var d={requires:"^rdWidget",scope:{loading:"@?",classes:"@?"},transclude:!0,template:'<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',restrict:"E"};return d}angular.module("Sammy-gui").directive("rdWidgetBody",rdWidgetBody);
function rdWidgetFooter(){var e={requires:"^rdWidget",transclude:!0,template:'<div class="widget-footer" ng-transclude></div>',restrict:"E"};return e}angular.module("Sammy-gui").directive("rdWidgetFooter",rdWidgetFooter);
function rdWidgetTitle(){var i={requires:"^rdWidget",scope:{title:"@",icon:"@",image:"@",width:"@"},transclude:!0,template:'<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',restrict:"E"};return i}angular.module("Sammy-gui").directive("rdWidgetHeader",rdWidgetTitle);
function rdWidget(){var d={transclude:!0,template:'<div class="widget" ng-transclude></div>',restrict:"EA"};return d}angular.module("Sammy-gui").directive("rdWidget",rdWidget);
app.service("Alert",function(){this.alerts=[],this.addAlert=function(t,s,e){var i=!1;if(this.alerts.length>0){for(var l=0;l<this.alerts.length;l++)if(this.alerts[l].msg===e){i=!0;break}i||this.alerts.push({type:t,icon:s,msg:e})}else this.alerts.push({type:t,icon:s,msg:e})},this.closeAlert=function(t){this.alerts.splice(t,1)}});
app.service("Config",function(){this.url=configItems.APIurl});